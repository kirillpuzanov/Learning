# Массивы

## Объявление

```jsx
let arr = new Array();
let arr = [];
```

**Если `new Array` вызывается с одним аргументом, который представляет собой число, он создаёт массив *без элементов, но с заданной длиной*.**

```jsx
const b = new Array(3);     // [undefined, undefined, undefined] or empty
const c = new Array('3');   // ['3']
const d = new Array(1,2,3); // [1, 2, 3]
```

*В массиве могут храниться элементы любого типа.*

Методы:

**Array.flat(depth?) -** *возвращает новый массив, в котором все элементы вложенных подмассивов были рекурсивно "подняты" на указанный уровень depth.*

*Array.flat(infinity) - поднимет все уровни вложенности*

*Новые методы:*

**Array.at(index) -** *возвращает элемент массива с данным индексом / -1 последний элемент*

**Array.toSplied(**pos, deleteCount, ...items**) -** *не мутирующая версия splice*

**Array.toSorted(**`compareFn`**)** *не мутирующая версия* sort

**Array.toReversed()** *не мутирующая версия* reverse

**Array.reduceRight(**func(acc, el, i, arr), initial**)** *как reduce только с конца*

**Array.of(arg1, ‘arg2’…)** создает новый массив из переданных аргументов, независимо от количества или типа.

---

- **Для добавления/удаления элементов:**
    - push (el, el2, el3 ….) – добавляет элементы в конец, => мутирует массив ⇒ новую длину массива
    - shift() – удаляет элемент с начала, => мутирует массив ⇒ удаленный элемент
    
    - pop() – удаляет элемент с конца, => мутирует массив ⇒ удаленный элемент
    - unshift(el) – добавляет элементы в начало. => мутирует массив ⇒ новую длину
    
    - splice(pos, deleteCount, ...items) – начиная с индекса pos, удаляет deleteCount элементов и вставляет items. => мутирует массив
    - slice(start, end) – создаёт новый массив, копируя в него элементы с позиции start до end (не включая end). => новый массив
    - concat(...items) – возвращает новый массив: копирует все члены текущего массива и добавляет к нему items. Если какой-то из items является массивом, тогда берутся его элементы. => новый массив
- **Для поиска среди элементов:**
    - indexOf/lastIndexOf(item, pos) – ищет item, начиная с позиции pos, и возвращает его индекс или -1, если ничего не найдено.
    - includes(value) – возвращает true, если в массиве имеется элемент value, в противном случае false.
    - find/filter(func) – фильтрует элементы через функцию и отдаёт первое/все значения, при прохождении которых через функцию возвращается true. => массив значений удовлетворяющих условию
    - findIndex похож на find, но => возвращает индекс вместо значения.
- **Для перебора элементов:**
    - forEach(func) – вызывает func для каждого элемента. Ничего не возвращает.
- **Для преобразования массива:**
    - map(func) – создаёт новый массив из результатов вызова func для каждого элемента. => новый массив
    - sort(func) – сортирует массив «на месте», а потом возвращает его. => мутирует массив
    - reverse() – «на месте» меняет порядок следования элементов на противоположный и возвращает изменённый массив. => мутирует массив
    - split/join – преобразует строку в массив и обратно.
    - reduce(func(acc, el, i, arr), initial) – вычисляет одно значение на основе всего массива, вызывая func для каждого элемента и передавая промежуточный результат между вызовами.
- **Дополнительно:**
    - Array.isArray(arr) проверяет, является ли arr массивом. => boolean
    - some(fn) - проверяет удовлетваряет ли хоть один элемент условию в функции ⇒ true / false
    - every(fn) - проверяет удовлетваряет ли все элементы условию в функции ⇒ true / false
    

Функция fn вызывается для каждого элемента массива аналогично map. Если какие-либо/все результаты вызовов являются true, то метод возвращает true, иначе false.

- [arr.fill(value, start, end)](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/fill) – заполняет массив повторяющимися value, начиная с индекса start до end.

```jsx
new Array(10).fill(1) // [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
```