# Синтаксис new Function

Синтаксис для объявления функции:

```jsx
let func = new Function('a', 'b', 'return a + b');
new Function('a,b', 'return a + b'); // через запятую в одной строке
new Function('a , b', 'return a + b'); // через запятую с пробелами в одной строке

console.log( sum(1, 2) );  // 3 
```

Особенности:

- функция создаётся полностью «на лету» из строки
- можно получить новую функцию с сервера (в виде строки) и затем выполнить её

### Замыкание

Обычно функция запоминает, где создавалась,имеет ссылку на лексическое окружение (Lexical Environment). Но в случае `new Function`, в её `[[Environment]]` всегда записывается ссылка на глобальное лексическое окружение ( **не на внешнее лексическое** ), и она имеет доступ только к глобальным переменным.

```jsx
function getFunc() {
  let value = "test"; 
  // value - new Function не увидит / нет внешнего лексического окружения
  // только глобальное
  let func = new Function('alert(value)');
  return func;
}

getFunc()(); // ошибка: value не определено
```